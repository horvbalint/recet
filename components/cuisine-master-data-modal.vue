<script setup lang="ts">
import type { InCuisine, OutCuisine } from '~/db'

defineProps<{
  initialData?: Partial<InCuisine> | null
}>()

const modelValue = defineModel<boolean>({required: true})

const emit = defineEmits<{
  'saved': [item: OutCuisine]
}>()

// Flag emoji options
const flagOptions = [
  'ğŸ‡ºğŸ‡¸', 'ğŸ‡¬ğŸ‡§', 'ğŸ‡«ğŸ‡·', 'ğŸ‡®ğŸ‡¹', 'ğŸ‡ªğŸ‡¸', 'ğŸ‡©ğŸ‡ª', 'ğŸ‡¯ğŸ‡µ', 'ğŸ‡¨ğŸ‡³', 'ğŸ‡®ğŸ‡³', 'ğŸ‡°ğŸ‡·',
  'ğŸ‡¹ğŸ‡­', 'ğŸ‡»ğŸ‡³', 'ğŸ‡²ğŸ‡½', 'ğŸ‡§ğŸ‡·', 'ğŸ‡¦ğŸ‡·', 'ğŸ‡µğŸ‡ª', 'ğŸ‡¨ğŸ‡¦', 'ğŸ‡¦ğŸ‡º', 'ğŸ‡·ğŸ‡º', 'ğŸ‡ºğŸ‡¦',
  'ğŸ‡µğŸ‡±', 'ğŸ‡¨ğŸ‡¿', 'ğŸ‡­ğŸ‡º', 'ğŸ‡·ğŸ‡´', 'ğŸ‡¬ğŸ‡·', 'ğŸ‡¹ğŸ‡·', 'ğŸ‡ªğŸ‡¬', 'ğŸ‡²ğŸ‡¦', 'ğŸ‡¿ğŸ‡¦', 'ğŸ‡³ğŸ‡¬',
  'ğŸ‡®ğŸ‡±', 'ğŸ‡±ğŸ‡§', 'ğŸ‡¸ğŸ‡¦', 'ğŸ‡¦ğŸ‡ª', 'ğŸ‡®ğŸ‡·', 'ğŸ‡µğŸ‡°', 'ğŸ‡§ğŸ‡©', 'ğŸ‡±ğŸ‡°', 'ğŸ‡³ğŸ‡µ', 'ğŸ‡²ğŸ‡¾',
  'ğŸ‡¸ğŸ‡¬', 'ğŸ‡®ğŸ‡©', 'ğŸ‡µğŸ‡­', 'ğŸ‡°ğŸ‡­', 'ğŸ‡±ğŸ‡¦', 'ğŸ‡²ğŸ‡²', 'ğŸ‡ªğŸ‡¹', 'ğŸ‡°ğŸ‡ª', 'ğŸ‡¬ğŸ‡­', 'ğŸ‡¨ğŸ‡®'
]

function handleSave(item: OutCuisine) {
  emit('saved', item)
}
</script>

<template>
  <master-data-modal
    v-model="modelValue"
    table="cuisine"
    name="cuisine"
    icon="material-symbols:public"
    :initial-data
    @saved="handleSave"
  >
    <template #form="{ data }">
      <neb-input v-model="data.name" label="Name" required />
      
      <neb-input v-model="data.color" label="Color" type="color" required />
      
      <neb-select 
        v-model="data.flag" 
        label="Flag" 
        no-search 
        :options="flagOptions" 
        placeholder="Select a flag" 
        allow-empty 
      />
    </template>
  </master-data-modal>
</template>
